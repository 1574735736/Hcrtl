{"version":3,"sources":["assets\\script\\util\\SdkManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["ï»¿// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class SdkManager {\r\n\r\n    static _instance = null;\r\n    static GetInstance() {\r\n        if (!SdkManager._instance) {\r\n            // doSomething\r\n            SdkManager._instance = new SdkManager();\r\n\r\n        }\r\n        return SdkManager._instance;\r\n    }\r\n\r\n    callBackSuccess: Function = null;\r\n    callBackFail: Function = null;\r\n    callClose: Function = null;\r\n    public getIP: string = \"\";\r\n    public G8Name: string = \"com.stickman.towerwar\";\r\n    public G7Name: string = \"com.passion.herocastlewar\";\r\n\r\n\r\n    public Init() {\r\n        if (cc.sys.platform == cc.sys.ANDROID) {\r\n            this.getIP = jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"getAppId\", \"()Ljava/lang/String;\");\r\n        }\r\n    }\r\n\r\n    public JavaInterstitialAds(order: string, callSuccess: Function = null, callFail: Function = null) {\r\n        this.callBackSuccess = callSuccess;\r\n        this.callBackFail = callFail;\r\n        if (cc.sys.platform == cc.sys.ANDROID) {\r\n            if (this.G8Name == this.getIP) {\r\n                jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AdManage\", \"showInterstitialAd\", \"(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V\", 'cc[\"sdkManager\"].JavaCall_AdLoadSuccess()', 'cc[\"sdkManager\"].JavaCall_AdLoadFail()', order);\r\n            }\r\n            else {\r\n                jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/InterstitialAdManager\", \"JsCall_showAdIfAvailable\", \"(Ljava/lang/String;Ljava/lang/String;)V\", 'cc[\"sdkManager\"].JavaCall_AdLoadSuccess()', order);\r\n            }                        \r\n        }\r\n        else {\r\n            if (this.callBackSuccess) {\r\n                this.callBackSuccess();\r\n            }\r\n        }   \r\n    }\r\n\r\n\r\n    public JavaRewardedAds(order: string, callSuccess: Function = null, callFail: Function = null, closeFunc: Function = null) {\r\n        this.callBackSuccess = callSuccess;\r\n        this.callBackFail = callFail;\r\n        this.callClose = closeFunc;\r\n\r\n        if (cc.sys.platform == cc.sys.ANDROID) {\r\n            if (this.G8Name == this.getIP) {\r\n                jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AdManage\", \"showRewardVideoAd\", \"(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V\", 'cc[\"sdkManager\"].JavaCall_AdLoadSuccess()', 'cc[\"sdkManager\"].JavaCall_AdLoadFail()', order);            \r\n            }\r\n            else {\r\n                jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/RewardedAdManager\", \"JsCall_showAdIfAvailable\", \"(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V\", 'cc[\"sdkManager\"].JavaCall_AdLoadSuccess()', 'cc[\"sdkManager\"].JavaCall_AdLoadFail()', order, 'cc[\"sdkManager\"].JavaCall_AdClose()');\r\n            }\r\n            //jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/NativeAdManager\", \"JsCall_showAdIfAvailable\", \"()V\");\r\n            \r\n        }\r\n        else {\r\n            if (this.callBackSuccess) {\r\n                this.callBackSuccess();\r\n            }\r\n        }  \r\n\r\n    }\r\n\r\n\r\n    public static JavaCall_AdLoadSuccess(): void {\r\n        if (SdkManager.GetInstance().callBackSuccess) {\r\n            SdkManager.GetInstance().callBackSuccess();\r\n        }\r\n    }\r\n\r\n    public static JavaCall_AdLoadFail(): void {\r\n        if (SdkManager.GetInstance().callBackFail) {\r\n            SdkManager.GetInstance().callBackFail();\r\n        }\r\n\r\n        \r\n    }\r\n\r\n   \r\n\r\n    public static JavaCall_AdClose(): void {\r\n        if (SdkManager.GetInstance().callClose) {\r\n            SdkManager.GetInstance().callClose();\r\n        }\r\n    }\r\n\r\n    public static CloseNavAD(): void {\r\n        jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/NativeAdManager\", \"JsCall_hideAd\", \"()V\");\r\n    }\r\n\r\n}\r\n"]}