{"version":3,"sources":["assets\\script\\gameScence\\Success.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport LevelData from \"../data/LevelData\";\nimport GameScence from \"./GameScence\";\nimport { FirebaseReport, FirebaseKey } from \"../util/FirebaseReport\";\nimport SpineManager from \"../manager/SpineManager\";\nimport UserData, { localStorageKey, userData } from \"../data/UserData\";\nimport SkinShopItemData from \"../util/SkinShopItemData\";\nimport Utils from \"../util/Utils\";\nimport SdkManager from \"../util/SdkManager\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class Success extends cc.Component {\n    @property(cc.Label)\n    lb_gold:cc.Label = null;\n\n    @property(sp.Skeleton)\n    animVictory:sp.Skeleton = null;\n    \n    @property(sp.Skeleton)\n    roleModel:sp.Skeleton = null;\n\n    @property(cc.Label)\n    lb_reward:cc.Label = null;\n\n    @property(cc.Node)\n    randomBar:cc.Node = null;\n\n    @property(cc.Label)\n    lb_adReward:cc.Label = null;\n\n    @property(cc.Node)\n    lb_NoThanks:cc.Node = null;\n\n    @property(cc.Node)\n    skinLight:cc.Node = null;\n\n    @property(cc.Node)\n    skinProgressBar_1:cc.Node = null;\n\n    @property(cc.Node)\n    skinProgressBar_2:cc.Node = null;\n\n    @property(cc.Label)\n    perOfSkin:cc.Label = null;\n\n    private static _instance:Success = null;\n\n    private moveAbs = 272;\n\n    private lastPointIndex:number = 0;\n    private nowPointIndex:number = 0;\n    private pointerArr:Array<cc.Sprite>;\n\n    private rateArr:number[];\n    /**是否可点击皮肤入口按钮 */\n    private bCanClickSkinBtn:boolean = false;\n    /**本次是否已经获得了新皮肤 */\n    private bHadGetNewSkin:boolean = false;\n\n    private newSkinPanel:cc.Node;\n\n    private btn_getSkin:cc.Node;\n\n    private reward_gold:number;\n\n    onLoad () {\n        Success._instance = this;\n        let numContainer = this.node.getChildByName(\"bar_randomRate\");\n        let rewardRate_2 = numContainer.getChildByName(\"white_2\").getComponent(cc.Sprite);\n        let rewardRate_3 = numContainer.getChildByName(\"white_3\").getComponent(cc.Sprite);\n        let rewardRate_4 = numContainer.getChildByName(\"white_4\").getComponent(cc.Sprite);\n        let rewardRate_5 = numContainer.getChildByName(\"white_5\").getComponent(cc.Sprite);\n        let rewardRate_4_1 = numContainer.getChildByName(\"white_4_1\").getComponent(cc.Sprite);\n        let rewardRate_3_1 = numContainer.getChildByName(\"white_3_1\").getComponent(cc.Sprite);\n        let rewardRate_2_1 = numContainer.getChildByName(\"white_2_1\").getComponent(cc.Sprite);\n        this.pointerArr = [rewardRate_2, rewardRate_3, rewardRate_4, rewardRate_5, rewardRate_4_1, rewardRate_3_1, rewardRate_2_1];\n\n        this.rateArr = [2, 3, 4, 5, 4, 3, 2];\n\n        this.newSkinPanel = this.node.getChildByName(\"panel_newSkin\");\n        this.btn_getSkin = this.node.getChildByName(\"btn_getSkin\");\n    }\n\n    protected onEnable(): void {\n        this.dispatchFirebaseKey(LevelData.curLevel);\n        LevelData.curLevel++;\n        LevelData.saveLevel();\n        let goldNum = userData.getData(localStorageKey.GOLD);\n        this.lb_gold.string = goldNum + \"\";\n        this.reward_gold = 100;\n        this.lb_reward.string = \"100\";\n        this.newSkinPanel.active = false;\n        \n        this.lb_NoThanks.active = false;\n        this.scheduleOnce(()=> {\n            this.lb_NoThanks.active = true;\n        }, 3);\n\n        SpineManager.getInstance().playSpinAnimation(this.roleModel, \"shengli\", true, null);\n\n        SpineManager.getInstance().playSpinAnimation(this.animVictory, \"biaoti\", false, () => {\n            SpineManager.getInstance().playSpinAnimation(this.animVictory, \"biaoti2\", true, null);\n        });\n        \n        this.lastPointIndex = 0;\n        this.nowPointIndex = 0;\n\n        this.randomBar.x = -this.moveAbs;\n        this.changeBarPos();\n\n        \n        this.updatePercentOfSkin();\n    }\n\n    protected onDisable(): void {\n        cc.Tween.stopAllByTarget(this.randomBar);\n        cc.Tween.stopAllByTarget(this.skinLight);\n    }\n\n    private dispatchFirebaseKey(level:number):void {\n        switch(level) {\n            case 1:\n                 FirebaseReport.reportInformation(FirebaseKey.level_wancheng_1);\n                 break;\n            case 2:\n                 FirebaseReport.reportInformation(FirebaseKey.level_wancheng_2);\n                 break;\n            case 3:\n                 FirebaseReport.reportInformation(FirebaseKey.level_wancheng_3);\n                 break;\n            case 4:\n                 FirebaseReport.reportInformation(FirebaseKey.level_wancheng_4);\n                 break;\n            case 5:\n                 FirebaseReport.reportInformation(FirebaseKey.level_wancheng_5);\n                 break;\n            case 10:\n                 FirebaseReport.reportInformation(FirebaseKey.level_wancheng_10);\n                 break;\n            case 15:\n                 FirebaseReport.reportInformation(FirebaseKey.level_wancheng_15);\n                 break;\n            case 20:\n                 FirebaseReport.reportInformation(FirebaseKey.level_wancheng_20);\n                 break;\n            default:\n                 break;\n        }\n    }\n\n    private changeBarPos():void {\n        cc.tween(this.randomBar)\n        .to(1, {x:this.moveAbs})\n        .to(1, {x: -this.moveAbs})\n        .call(()=> {\n            this.changeBarPos();\n        })\n        .start();\n    }\n\n    private updatePercentOfSkin():void {\n        //先判断所有皮肤是否都已经解锁\n        let skinDatas = userData.getData(localStorageKey.SHOP_DATAS) as SkinShopItemData[];\n        let bHavaLockSkin = false;\n        for (let data of skinDatas) {\n            if (!data.bUnlock) {//有未解锁的皮肤\n                bHavaLockSkin = true;\n                break;\n            }\n        }\n        if (!bHavaLockSkin) {//皮肤都已经解锁\n            this.btn_getSkin.active = false;\n            return;\n        }\n\n        this.btn_getSkin.active = true;\n\n        let skinPer = userData.getData(localStorageKey.PER_GET_SKIN_VICTORY);\n        skinPer += 20;\n        if (skinPer > 100) {\n            skinPer = 100;\n        }\n        this.perOfSkin.string = skinPer + \"%\";\n        this.calculateAngle(skinPer);\n\n        if (skinPer >= 100) {\n            this.bCanClickSkinBtn = true;\n            this.bHadGetNewSkin = false;\n            userData.setData(localStorageKey.PER_GET_SKIN_VICTORY, 0);//重置进度\n            this.showSkinLight();\n            this.showNewSkinPanel();//主动打开获得皮肤界面\n        }\n        else {\n            this.bCanClickSkinBtn = false;\n            userData.setData(localStorageKey.PER_GET_SKIN_VICTORY, skinPer);\n            this.skinLight.active = false;\n        }\n    }\n\n    private calculateAngle(skinPer:number):void {\n        if (skinPer < 0) {\n            skinPer = 0;\n        }\n        else if (skinPer > 100) {\n            skinPer = 100;\n        }\n        if (skinPer <= 50) {\n            this.skinProgressBar_2.angle = 180;\n            this.skinProgressBar_1.angle = -(skinPer * 18)/5;//等效-(skinPer/50 * 180);\n        }\n        else {\n            this.skinProgressBar_1.angle = -180;\n            this.skinProgressBar_2.angle = 180 - (skinPer - 50)/50 * 180;\n        }\n    }\n    /**展示皮肤入口按钮光效 */\n    private showSkinLight():void {\n        this.skinLight.active = true\n        this.skinLight.angle = 0;\n        this.changeSkinLight();\n    }\n\n    private changeSkinLight():void {\n        cc.tween(this.skinLight)\n            .to(0.5, {angle: -20})\n            .to(0.5, {angle: 0})\n            .call(()=> {\n                this.changeSkinLight();\n            })\n            .start();\n    }\n\n    public static JavaCall_goNextLevel():void {\n        Success._instance.goNextLevel(true);\n    }\n\n    goNextLevel(bVideo:boolean = false) {\n        let own = userData.getData(localStorageKey.GOLD);\n        if (bVideo) {\n            own += this.rateOfRewardByVideo * this.reward_gold;\n        }\n        else {\n            own += this.reward_gold;\n        }\n        userData.setData(localStorageKey.GOLD, own);\n        GameScence.Instance.restartGame();\n        this.node.active = false;\n    }\n\n    private onBtnHomeClick():void {\n        let own = userData.getData(localStorageKey.GOLD);\n        own += this.reward_gold;\n        userData.setData(localStorageKey.GOLD, own);\n        cc.director.loadScene(\"MainScene\");\n    }\n\n    private onBtnNoThanksClick():void {\n        if (cc.sys.platform == cc.sys.ANDROID) {\n            FirebaseReport.reportInformation(FirebaseKey.shengli_ad2_next);\n            jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/InterstitialAdManager\", \"JsCall_showAdIfAvailable\", \"(Ljava/lang/String;Ljava/lang/String;)V\",'cc[\"Success\"].JavaCall_noThanksCallback()', \"shengli_ad2_next\");\n        }\n        else {\n             this.goNextLevel();\n        }\n        //dkManager.GetInstance().JavaInterstitialAds(\"shengli_ad2_next\", () => { this.goNextLevel(); });\n    }\n\n    public static JavaCall_noThanksCallback():void {\n        Success._instance.goNextLevel();\n    }\n\n    private rateOfRewardByVideo:number;\n\n    private onBtnVideoClick():void {\n        this.rateOfRewardByVideo = this.rateArr[this.nowPointIndex];\n        if (cc.sys.platform == cc.sys.ANDROID) {\n             FirebaseReport.reportInformation(FirebaseKey.shengli_ad2_beishu);\n            jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/RewardedAdManager\", \"JsCall_showAdIfAvailable\", \"(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V\",'cc[\"Success\"].JavaCall_goNextLevel()', 'cc[\"Success\"].JavaCall_noAdCallback()', \"shengli_ad2_beishu\", \"\");\n        }\n        else {\n             this.goNextLevel(true);\n        }\n        //SdkManager.GetInstance().JavaRewardedAds(\"shengli_ad2_beishu\", () => { this.goNextLevel(); }, () => { this.noAdCallback(); });\n    }\n    /**获取皮肤入口按钮点击回调 */\n    private onBtnGetSkinClick():void {\n        if (this.bCanClickSkinBtn) {\n            if (this.bHadGetNewSkin) {//本次已获取了新皮肤\n                Utils.showMessage(this.node, \"You`ve got the skin\");\n            }\n            else {\n                FirebaseReport.reportInformation(FirebaseKey.shengli_skin);\n                this.showNewSkinPanel();\n            }\n        }\n    }\n\n    private unlockSkinIndex:number;\n\n    private showNewSkinPanel():void {\n        this.newSkinPanel.active = true;\n        \n        let roleModel = this.newSkinPanel.getChildByName(\"roleModel\").getComponent(sp.Skeleton);\n        let skinDatas = userData.getData(localStorageKey.SHOP_DATAS) as SkinShopItemData[];\n        for (let i = 0; i < skinDatas.length; i++) {\n            let data = skinDatas[i];\n            if (!data.bUnlock) {//此皮肤未解锁\n                this.unlockSkinIndex = i;\n                SpineManager.getInstance().loadSpine(roleModel, \"spine/player/\" + data.resName, true, \"default\", \"daiji\");\n                break;\n            }\n        }\n    }\n\n    /**获取新皮肤面板的看广告按钮点击 */\n    private onGetSkinByVideoOfSkinPanelClick():void {\n        if (cc.sys.platform == cc.sys.ANDROID) {\n             FirebaseReport.reportInformation(FirebaseKey.shengli_ad2_skin);\n            jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/RewardedAdManager\", \"JsCall_showAdIfAvailable\", \"(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V\",'cc[\"Success\"].JavaCall_getNewSkin()', 'cc[\"Success\"].JavaCall_noAdCallback()', \"shengli_ad2_skin\", \"\");\n        }\n        else {\n             this.getNewSkin();\n        }\n        //SdkManager.GetInstance().JavaRewardedAds(\"shengli_ad2_skin\", () => { this.getNewSkin(); }, () => { this.noAdCallback(); });     \n    }\n\n    public static JavaCall_getNewSkin():void {\n        Success._instance.getNewSkin();\n    }\n\n    private getNewSkin():void {\n        this.bHadGetNewSkin = true;\n        let skinDatas = userData.getData(localStorageKey.SHOP_DATAS) as SkinShopItemData[];\n        skinDatas[this.unlockSkinIndex].bUnlock = true;\n        userData.setData(localStorageKey.SHOP_DATAS, skinDatas);\n        userData.setData(localStorageKey.USING_SKIN_INDEX, this.unlockSkinIndex);//同时设置为正在使用的皮肤\n        this.newSkinPanel.active = false;\n        Utils.showMessage(this.node, \"Got a new skin\");\n        //更新胜利界面玩家皮肤\n        let resName = skinDatas[this.unlockSkinIndex].resName;\n        SpineManager.getInstance().loadSpine(this.roleModel,\"spine/player/\"+resName, true, \"default\", \"shengli\");\n    }\n\n    /**获取新皮肤面板的noThanks按钮点击 */\n    private onBtnNoThanksOfSkinPanelClick():void {\n        this.newSkinPanel.active = false;\n    }\n\n\n    update (dt) {\n        let posx = this.randomBar.x;\n        if (posx < -198) {\n            this.nowPointIndex = 0;\n        }\n        else if (posx < -125) {\n            this.nowPointIndex = 1;\n        }\n        else if (posx < -47) {\n            this.nowPointIndex = 2;\n        }\n        else if (posx < 44) {\n            this.nowPointIndex = 3;\n        }\n        else if (posx < 123) {\n            this.nowPointIndex = 4;\n        }\n        else if (posx < 195) {\n            this.nowPointIndex = 5;\n        }\n        else {\n            this.nowPointIndex = 6;\n        }\n\n        if (this.nowPointIndex != this.lastPointIndex) {\n            let nowIndex = this.nowPointIndex;\n            let lastIndex = this.lastPointIndex;\n            this.lastPointIndex = this.nowPointIndex;\n\n            this.lb_adReward.string = 100*this.rateArr[nowIndex] + \"\";\n\n            cc.loader.loadRes(\"texture/game/ui/dx\" + this.rateArr[nowIndex], cc.SpriteFrame, (err, res) => {\n                if(err) {\n                    return;\n                }\n                this.pointerArr[nowIndex].spriteFrame = res;\n            });\n            cc.loader.loadRes(\"texture/game/ui/x\" + this.rateArr[lastIndex], cc.SpriteFrame, (err, res) => {\n                if(err) {\n                    return;\n                }\n                this.pointerArr[lastIndex].spriteFrame = res;\n            });\n        }\n    }\n\n\n\n    public static JavaCall_noAdCallback():void{\n        Success._instance.noAdCallback();\n    }\n\n    private noAdCallback():void{\n        Utils.showMessage(this.node, \"Ad not ready\");\n    }\n}\n"]}